<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Packet Tracer ‚Äì Modify an Existing Script for an IoT Thing</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Packet Tracer lab: modify an existing script for an IoT Thing (Security Camera) and test it.">
  <link rel="stylesheet" href="style.css">
  <style>
    :root{
      --header-bg:#0b0f10cc;
      --accent:#00ff88;
      --border:#d9e1e6;
      --answer-bg:#d9d9d9;
      --font:Arial,Helvetica,sans-serif;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font:14px/1.5 var(--font);
      color:#222;
      background:#f7f9fa;
      -webkit-font-smoothing:antialiased;
    }
    header{
      position:sticky;top:0;z-index:1000;
      background:var(--header-bg);
      backdrop-filter:blur(6px);
      border-bottom:1px solid #16332a;
      padding:.7rem 1rem .85rem;
      display:flex;flex-wrap:wrap;gap:1.5rem;align-items:center;
    }
    header h1{margin:0;font-size:1.25rem;font-weight:600;line-height:1.1;}
    header nav a{
      color:var(--accent);
      text-decoration:none;
      margin:0 .45rem;
      font-weight:500;
      white-space:nowrap;
    }
    header nav a:hover{text-shadow:0 0 6px rgba(0,255,136,.45);}
    main{max-width:960px;margin:0 auto;padding:1.4rem 1rem 3rem;}
    h1,h2,h3{font-weight:600;line-height:1.25;margin:1.18rem 0 .55rem;}
    h1{font-size:1.38rem;}
    h2{font-size:1.18rem;}
    h3{font-size:1.05rem;}
    p{margin:.6rem 0;}
    /* Indentation / legacy semantics */
    .BodyTextL25,.BodyTextL25Bold{margin-left:.25in;font-size:.9rem;}
    .BodyTextL25Bold{font-weight:700;}
    .SubStepAlpha{margin-left:.5in;text-indent:-.25in;font-size:.9rem;}
    .Bulletlevel2{margin-left:.75in;text-indent:-.25in;font-size:.9rem;}
    .DevConfigs{margin-left:.5in;font:12px/1.4 "Courier New",monospace;background:#212328;color:#fff;padding:.4rem .6rem;border-radius:4px;white-space:pre;}
    img.inline-icon{max-width:40px;height:auto;vertical-align:middle;}
    #footerDIV{font:12px var(--font);margin-top:2.5rem;padding-top:1rem;border-top:1px solid var(--border);}
    .ConfigWindow{font-size:.65rem;color:#555;margin-top:2rem;font-style:italic;margin-left:.25in;}
    @media (prefers-color-scheme: dark){
      body{background:#121416;color:#e4e8ea;}
      header{background:#0b0f10f2;}
      .DevConfigs{background:#101417;}
      #footerDIV{border-color:#2d3338;}
    }
  </style>
</head>
<body>
  <header>
    <h1><a href="/Packet-Tracer/index.html" style="color:white; text-decoration:none;">üè† Packet Tracer</a></h1>
    <nav>
      <a href="/Packet-Tracer/index.html">Home</a> |
    </nav>
  </header>

  <main>
    <p class="BodyTextL25Bold" style="margin-left:0;font-size:1.55rem;">Packet Tracer ‚Äì Modify an Existing Script for an IoT Thing</p>

    <h1>Objectives</h1>
    <p class="BodyTextL25Bold">Part 1: Modify Your Thing</p>
    <p class="BodyTextL25Bold">Part 2: Test Your Modified Thing</p>

    <h1>Background / Scenario</h1>
    <p class="BodyTextL25">You will modify the previously created Security Camera IoT device by adding a second icon state and custom JavaScript (copied and adapted from an existing Motion Detector device).</p>

    <h1>Instructions</h1>

    <h2>Part 1: Modify Your Thing</h2>

    <h3>Step 1: Save the device icon.</h3>
    <p class="SubStepAlpha">a. Open this HTML instructions file if not already open.</p>
    <p class="SubStepAlpha">b. Right‚Äëclick the image below and save it locally.</p>
    <p class="SubStepAlpha">c. Store it where you can easily locate it.</p>
    <p class="BodyTextL25"><img class="inline-icon" src="image002.png" alt="Security Camera icon"></p>

    <h3>Step 2: Add an additional device icon.</h3>
    <p class="SubStepAlpha">a. Click <b>Security Camera</b> (workspace) &gt; <b>Config</b>.</p>
    <p class="SubStepAlpha">b. Click <b>Advanced</b> &gt; <b>Thing Editor</b> &gt; <b>Properties</b>.</p>
    <p class="SubStepAlpha">c. Click <b>New</b>, select saved image (activated icon with red dot).</p>
    <p class="SubStepAlpha">d. Open <b>Rules</b> tab.</p>
    <p class="SubStepAlpha">e. Click <b>Add</b>. For first rule choose Sub Component: <b>Security Camera</b> (Slot Value LOW = non‚Äëactive image).</p>
    <p class="SubStepAlpha">f. Click <b>Add</b> again; set Slot Value <b>HIGH</b> with activated image (red dot).</p>

    <h3>Step 3: Copy programming code from Motion Detector.</h3>
    <p class="SubStepAlpha">a. In Security Camera window open <b>Programming</b> (note minimal code).</p>
    <p class="SubStepAlpha">b. Minimize Security Camera window.</p>
    <p class="SubStepAlpha">c. Add <b>Motion Detector</b> (End Devices &gt; Home).</p>
    <p class="SubStepAlpha">d. Open its <b>Config &gt; Advanced &gt; Programming</b>.</p>
    <p class="SubStepAlpha">e. Select <b>* Motion Detector (JavaScript)</b> &gt; <b>Open</b>.</p>
    <p class="SubStepAlpha">f. Open <b>main.js</b>.</p>
    <p class="SubStepAlpha">g. Ctrl+A then <b>Copy</b>.</p>
    <p class="SubStepAlpha">h. Close Motion Detector window and delete device.</p>

    <h3>Step 4: Create a new script in the Security Camera.</h3>
    <p class="SubStepAlpha">a. Re-open Security Camera &gt; <b>Programming</b>.</p>
    <p class="SubStepAlpha">b. Click <b>..</b> &gt; <b>Open</b> (to view project list).</p>
    <p class="SubStepAlpha">c. Click <b>New</b> project.</p>
    <p class="SubStepAlpha">d. Name: <b>Security Camera</b> &gt; <b>Create</b>.</p>
    <p class="SubStepAlpha">e. Click <b>..</b> &gt; <b>Open</b> again, open new project.</p>
    <p class="SubStepAlpha">f. Open <b>Security Camera (JavaScript)</b> &gt; <b>Open</b>.</p>
    <p class="SubStepAlpha">g. Open <b>main.js</b>.</p>
    <p class="SubStepAlpha">h. Paste copied code.</p>

    <h3>Step 5: Edit the programming code.</h3>
    <p class="SubStepAlpha">a. Locate line with <code>type: "Motion Detector"</code>.</p>
    <p class="SubStepAlpha">b. Change to <code>type: "Security Camera"</code> (keep quotes and comma if present).</p>
    <p class="SubStepAlpha">c. Click <b>Run</b>.</p>

    <h2>Part 2: Test Your Modified Thing</h2>

    <h3>Step 1: Register with IoT Registration Server.</h3>
    <p class="SubStepAlpha">a. Security Camera &gt; <b>Config</b>.</p>
    <p class="SubStepAlpha">b. IoT Server: choose <b>Remote Server</b>.</p>
    <p class="SubStepAlpha">c. Server Address: <b>203.0.0.3</b>.</p>
    <p class="SubStepAlpha">d. User/Password: <b>home / home</b>.</p>
    <p class="SubStepAlpha">e. Click <b>Connect</b> (or <b>Refresh</b>).</p>

    <h3>Step 2: Monitor and test.</h3>
    <p class="SubStepAlpha">a. On Tablet: Desktop &gt; Web Browser &gt; URL: <b>home.com</b>.</p>
    <p class="SubStepAlpha">b. Login (home / home).</p>
    <p class="SubStepAlpha">c. Expand <b>Security Camera</b> (shows On, inactive).</p>
    <p class="SubStepAlpha">d. Alt + hover over camera icon to simulate motion.</p>
    <p class="SubStepAlpha">e. Icon switches to activated (red dot), server view shows green (active) indicator; reverts after delay.</p>
    <p class="SubStepAlpha">f. Experiment controlling other registered devices.</p>

    <h3>Step 3: Experiment further.</h3>
    <p class="SubStepAlpha">a. Add more IoT devices; adapt their scripts (change type, behaviors).</p>
    <p class="SubStepAlpha">b. Save your work and close Packet Tracer.</p>

    <p class="ConfigWindow">End of document</p>
    <div id="footerDIV">¬© 2017 - 2022 Cisco and/or its affiliates. All rights reserved. Cisco Public</div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
